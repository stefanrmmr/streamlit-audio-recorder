{"ast":null,"code":"import _inherits from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\n// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/** @ignore */\nvar carryBit16 = 1 << 16;\n/** @ignore */\n\nfunction intAsHex(value) {\n  if (value < 0) {\n    value = 0xFFFFFFFF + value + 1;\n  }\n\n  return \"0x\".concat(value.toString(16));\n}\n/** @ignore */\n\n\nvar kInt32DecimalDigits = 8;\n/** @ignore */\n\nvar kPowersOfTen = [1, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000];\n/** @ignore */\n\nexport var BaseInt64 = /*#__PURE__*/function () {\n  function BaseInt64(buffer) {\n    _classCallCheck(this, BaseInt64);\n\n    this.buffer = buffer;\n  }\n\n  _createClass(BaseInt64, [{\n    key: \"high\",\n    value: function high() {\n      return this.buffer[1];\n    }\n  }, {\n    key: \"low\",\n    value: function low() {\n      return this.buffer[0];\n    }\n  }, {\n    key: \"_times\",\n    value: function _times(other) {\n      // Break the left and right numbers into 16 bit chunks\n      // so that we can multiply them without overflow.\n      var L = new Uint32Array([this.buffer[1] >>> 16, this.buffer[1] & 0xFFFF, this.buffer[0] >>> 16, this.buffer[0] & 0xFFFF]);\n      var R = new Uint32Array([other.buffer[1] >>> 16, other.buffer[1] & 0xFFFF, other.buffer[0] >>> 16, other.buffer[0] & 0xFFFF]);\n      var product = L[3] * R[3];\n      this.buffer[0] = product & 0xFFFF;\n      var sum = product >>> 16;\n      product = L[2] * R[3];\n      sum += product;\n      product = L[3] * R[2] >>> 0;\n      sum += product;\n      this.buffer[0] += sum << 16;\n      this.buffer[1] = sum >>> 0 < product ? carryBit16 : 0;\n      this.buffer[1] += sum >>> 16;\n      this.buffer[1] += L[1] * R[3] + L[2] * R[2] + L[3] * R[1];\n      this.buffer[1] += L[0] * R[3] + L[1] * R[2] + L[2] * R[1] + L[3] * R[0] << 16;\n      return this;\n    }\n  }, {\n    key: \"_plus\",\n    value: function _plus(other) {\n      var sum = this.buffer[0] + other.buffer[0] >>> 0;\n      this.buffer[1] += other.buffer[1];\n\n      if (sum < this.buffer[0] >>> 0) {\n        ++this.buffer[1];\n      }\n\n      this.buffer[0] = sum;\n    }\n  }, {\n    key: \"lessThan\",\n    value: function lessThan(other) {\n      return this.buffer[1] < other.buffer[1] || this.buffer[1] === other.buffer[1] && this.buffer[0] < other.buffer[0];\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      return this.buffer[1] === other.buffer[1] && this.buffer[0] == other.buffer[0];\n    }\n  }, {\n    key: \"greaterThan\",\n    value: function greaterThan(other) {\n      return other.lessThan(this);\n    }\n  }, {\n    key: \"hex\",\n    value: function hex() {\n      return \"\".concat(intAsHex(this.buffer[1]), \" \").concat(intAsHex(this.buffer[0]));\n    }\n  }]);\n\n  return BaseInt64;\n}();\n/** @ignore */\n\nexport var Uint64 = /*#__PURE__*/function (_BaseInt) {\n  _inherits(Uint64, _BaseInt);\n\n  var _super = _createSuper(Uint64);\n\n  function Uint64() {\n    _classCallCheck(this, Uint64);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Uint64, [{\n    key: \"times\",\n    value: function times(other) {\n      this._times(other);\n\n      return this;\n    }\n  }, {\n    key: \"plus\",\n    value: function plus(other) {\n      this._plus(other);\n\n      return this;\n    }\n    /** @nocollapse */\n\n  }], [{\n    key: \"from\",\n    value: function from(val) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      return Uint64.fromString(typeof val === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(num) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      // Always parse numbers as strings - pulling out high and low bits\n      // directly seems to lose precision sometimes\n      // For example:\n      //     > -4613034156400212000 >>> 0\n      //     721782784\n      // The correct lower 32-bits are 721782752\n      return Uint64.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(str) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      var length = str.length;\n      var out = new Uint64(out_buffer);\n\n      for (var posn = 0; posn < length;) {\n        var group = kInt32DecimalDigits < length - posn ? kInt32DecimalDigits : length - posn;\n        var chunk = new Uint64(new Uint32Array([parseInt(str.substr(posn, group), 10), 0]));\n        var multiple = new Uint64(new Uint32Array([kPowersOfTen[group], 0]));\n        out.times(multiple);\n        out.plus(chunk);\n        posn += group;\n      }\n\n      return out;\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"convertArray\",\n    value: function convertArray(values) {\n      var data = new Uint32Array(values.length * 2);\n\n      for (var i = -1, n = values.length; ++i < n;) {\n        Uint64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n      }\n\n      return data;\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"multiply\",\n    value: function multiply(left, right) {\n      var rtrn = new Uint64(new Uint32Array(left.buffer));\n      return rtrn.times(right);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"add\",\n    value: function add(left, right) {\n      var rtrn = new Uint64(new Uint32Array(left.buffer));\n      return rtrn.plus(right);\n    }\n  }]);\n\n  return Uint64;\n}(BaseInt64);\n/** @ignore */\n\nexport var Int64 = /*#__PURE__*/function (_BaseInt2) {\n  _inherits(Int64, _BaseInt2);\n\n  var _super2 = _createSuper(Int64);\n\n  function Int64() {\n    _classCallCheck(this, Int64);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Int64, [{\n    key: \"negate\",\n    value: function negate() {\n      this.buffer[0] = ~this.buffer[0] + 1;\n      this.buffer[1] = ~this.buffer[1];\n\n      if (this.buffer[0] == 0) {\n        ++this.buffer[1];\n      }\n\n      return this;\n    }\n  }, {\n    key: \"times\",\n    value: function times(other) {\n      this._times(other);\n\n      return this;\n    }\n  }, {\n    key: \"plus\",\n    value: function plus(other) {\n      this._plus(other);\n\n      return this;\n    }\n  }, {\n    key: \"lessThan\",\n    value: function lessThan(other) {\n      // force high bytes to be signed\n      var this_high = this.buffer[1] << 0;\n      var other_high = other.buffer[1] << 0;\n      return this_high < other_high || this_high === other_high && this.buffer[0] < other.buffer[0];\n    }\n    /** @nocollapse */\n\n  }], [{\n    key: \"from\",\n    value: function from(val) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      return Int64.fromString(typeof val === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(num) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      // Always parse numbers as strings - pulling out high and low bits\n      // directly seems to lose precision sometimes\n      // For example:\n      //     > -4613034156400212000 >>> 0\n      //     721782784\n      // The correct lower 32-bits are 721782752\n      return Int64.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(str) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(2);\n      // TODO: Assert that out_buffer is 0 and length = 2\n      var negate = str.startsWith('-');\n      var length = str.length;\n      var out = new Int64(out_buffer);\n\n      for (var posn = negate ? 1 : 0; posn < length;) {\n        var group = kInt32DecimalDigits < length - posn ? kInt32DecimalDigits : length - posn;\n        var chunk = new Int64(new Uint32Array([parseInt(str.substr(posn, group), 10), 0]));\n        var multiple = new Int64(new Uint32Array([kPowersOfTen[group], 0]));\n        out.times(multiple);\n        out.plus(chunk);\n        posn += group;\n      }\n\n      return negate ? out.negate() : out;\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"convertArray\",\n    value: function convertArray(values) {\n      var data = new Uint32Array(values.length * 2);\n\n      for (var i = -1, n = values.length; ++i < n;) {\n        Int64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n      }\n\n      return data;\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"multiply\",\n    value: function multiply(left, right) {\n      var rtrn = new Int64(new Uint32Array(left.buffer));\n      return rtrn.times(right);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"add\",\n    value: function add(left, right) {\n      var rtrn = new Int64(new Uint32Array(left.buffer));\n      return rtrn.plus(right);\n    }\n  }]);\n\n  return Int64;\n}(BaseInt64);\n/** @ignore */\n\nexport var Int128 = /*#__PURE__*/function () {\n  function Int128(buffer) {\n    _classCallCheck(this, Int128);\n\n    this.buffer = buffer; // buffer[3] MSB (high)\n    // buffer[2]\n    // buffer[1]\n    // buffer[0] LSB (low)\n  }\n\n  _createClass(Int128, [{\n    key: \"high\",\n    value: function high() {\n      return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n    }\n  }, {\n    key: \"low\",\n    value: function low() {\n      return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset, 2));\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      this.buffer[0] = ~this.buffer[0] + 1;\n      this.buffer[1] = ~this.buffer[1];\n      this.buffer[2] = ~this.buffer[2];\n      this.buffer[3] = ~this.buffer[3];\n\n      if (this.buffer[0] == 0) {\n        ++this.buffer[1];\n      }\n\n      if (this.buffer[1] == 0) {\n        ++this.buffer[2];\n      }\n\n      if (this.buffer[2] == 0) {\n        ++this.buffer[3];\n      }\n\n      return this;\n    }\n  }, {\n    key: \"times\",\n    value: function times(other) {\n      // Break the left and right numbers into 32 bit chunks\n      // so that we can multiply them without overflow.\n      var L0 = new Uint64(new Uint32Array([this.buffer[3], 0]));\n      var L1 = new Uint64(new Uint32Array([this.buffer[2], 0]));\n      var L2 = new Uint64(new Uint32Array([this.buffer[1], 0]));\n      var L3 = new Uint64(new Uint32Array([this.buffer[0], 0]));\n      var R0 = new Uint64(new Uint32Array([other.buffer[3], 0]));\n      var R1 = new Uint64(new Uint32Array([other.buffer[2], 0]));\n      var R2 = new Uint64(new Uint32Array([other.buffer[1], 0]));\n      var R3 = new Uint64(new Uint32Array([other.buffer[0], 0]));\n      var product = Uint64.multiply(L3, R3);\n      this.buffer[0] = product.low();\n      var sum = new Uint64(new Uint32Array([product.high(), 0]));\n      product = Uint64.multiply(L2, R3);\n      sum.plus(product);\n      product = Uint64.multiply(L3, R2);\n      sum.plus(product);\n      this.buffer[1] = sum.low();\n      this.buffer[3] = sum.lessThan(product) ? 1 : 0;\n      this.buffer[2] = sum.high();\n      var high = new Uint64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n      high.plus(Uint64.multiply(L1, R3)).plus(Uint64.multiply(L2, R2)).plus(Uint64.multiply(L3, R1));\n      this.buffer[3] += Uint64.multiply(L0, R3).plus(Uint64.multiply(L1, R2)).plus(Uint64.multiply(L2, R1)).plus(Uint64.multiply(L3, R0)).low();\n      return this;\n    }\n  }, {\n    key: \"plus\",\n    value: function plus(other) {\n      var sums = new Uint32Array(4);\n      sums[3] = this.buffer[3] + other.buffer[3] >>> 0;\n      sums[2] = this.buffer[2] + other.buffer[2] >>> 0;\n      sums[1] = this.buffer[1] + other.buffer[1] >>> 0;\n      sums[0] = this.buffer[0] + other.buffer[0] >>> 0;\n\n      if (sums[0] < this.buffer[0] >>> 0) {\n        ++sums[1];\n      }\n\n      if (sums[1] < this.buffer[1] >>> 0) {\n        ++sums[2];\n      }\n\n      if (sums[2] < this.buffer[2] >>> 0) {\n        ++sums[3];\n      }\n\n      this.buffer[3] = sums[3];\n      this.buffer[2] = sums[2];\n      this.buffer[1] = sums[1];\n      this.buffer[0] = sums[0];\n      return this;\n    }\n  }, {\n    key: \"hex\",\n    value: function hex() {\n      return \"\".concat(intAsHex(this.buffer[3]), \" \").concat(intAsHex(this.buffer[2]), \" \").concat(intAsHex(this.buffer[1]), \" \").concat(intAsHex(this.buffer[0]));\n    }\n    /** @nocollapse */\n\n  }], [{\n    key: \"multiply\",\n    value: function multiply(left, right) {\n      var rtrn = new Int128(new Uint32Array(left.buffer));\n      return rtrn.times(right);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"add\",\n    value: function add(left, right) {\n      var rtrn = new Int128(new Uint32Array(left.buffer));\n      return rtrn.plus(right);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"from\",\n    value: function from(val) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(4);\n      return Int128.fromString(typeof val === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(num) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(4);\n      // Always parse numbers as strings - pulling out high and low bits\n      // directly seems to lose precision sometimes\n      // For example:\n      //     > -4613034156400212000 >>> 0\n      //     721782784\n      // The correct lower 32-bits are 721782752\n      return Int128.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(str) {\n      var out_buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Uint32Array(4);\n      // TODO: Assert that out_buffer is 0 and length = 4\n      var negate = str.startsWith('-');\n      var length = str.length;\n      var out = new Int128(out_buffer);\n\n      for (var posn = negate ? 1 : 0; posn < length;) {\n        var group = kInt32DecimalDigits < length - posn ? kInt32DecimalDigits : length - posn;\n        var chunk = new Int128(new Uint32Array([parseInt(str.substr(posn, group), 10), 0, 0, 0]));\n        var multiple = new Int128(new Uint32Array([kPowersOfTen[group], 0, 0, 0]));\n        out.times(multiple);\n        out.plus(chunk);\n        posn += group;\n      }\n\n      return negate ? out.negate() : out;\n    }\n    /** @nocollapse */\n\n  }, {\n    key: \"convertArray\",\n    value: function convertArray(values) {\n      // TODO: Distinguish between string and number at compile-time\n      var data = new Uint32Array(values.length * 4);\n\n      for (var i = -1, n = values.length; ++i < n;) {\n        Int128.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 4 * 4 * i, 4));\n      }\n\n      return data;\n    }\n  }]);\n\n  return Int128;\n}();","map":{"version":3,"mappings":"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","names":["carryBit16","intAsHex","value","toString","kInt32DecimalDigits","kPowersOfTen","BaseInt64","buffer","other","L","Uint32Array","R","product","sum","lessThan","Uint64","_times","_plus","val","out_buffer","fromString","num","str","length","out","posn","group","chunk","parseInt","substr","multiple","times","plus","values","data","i","n","from","byteOffset","left","right","rtrn","Int64","this_high","other_high","negate","startsWith","Int128","L0","L1","L2","L3","R0","R1","R2","R3","multiply","low","high","sums"],"sources":["util/int.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/** @ignore */\nconst carryBit16 = 1 << 16;\n\n/** @ignore */\nfunction intAsHex(value: number): string {\n    if (value < 0) {\n        value = 0xFFFFFFFF + value + 1;\n    }\n    return `0x${value.toString(16)}`;\n}\n\n/** @ignore */\nconst kInt32DecimalDigits = 8;\n/** @ignore */\nconst kPowersOfTen = [1,\n                      10,\n                      100,\n                      1000,\n                      10000,\n                      100000,\n                      1000000,\n                      10000000,\n                      100000000];\n\n/** @ignore */\nexport class BaseInt64 {\n    constructor (protected buffer: Uint32Array) {}\n\n    public high(): number { return this.buffer[1]; }\n    public low (): number { return this.buffer[0]; }\n\n    protected _times(other: BaseInt64) {\n        // Break the left and right numbers into 16 bit chunks\n        // so that we can multiply them without overflow.\n        const L = new Uint32Array([\n            this.buffer[1] >>> 16,\n            this.buffer[1] & 0xFFFF,\n            this.buffer[0] >>> 16,\n            this.buffer[0] & 0xFFFF\n        ]);\n\n        const R = new Uint32Array([\n            other.buffer[1] >>> 16,\n            other.buffer[1] & 0xFFFF,\n            other.buffer[0] >>> 16,\n            other.buffer[0] & 0xFFFF\n        ]);\n\n        let product = L[3] * R[3];\n        this.buffer[0] = product & 0xFFFF;\n\n        let sum = product >>> 16;\n\n        product = L[2] * R[3];\n        sum += product;\n\n        product = (L[3] * R[2]) >>> 0;\n        sum += product;\n\n        this.buffer[0] += sum << 16;\n\n        this.buffer[1] = (sum >>> 0 < product ? carryBit16 : 0);\n\n        this.buffer[1] += sum >>> 16;\n        this.buffer[1] += L[1] * R[3] + L[2] * R[2] + L[3] * R[1];\n        this.buffer[1] += (L[0] * R[3] + L[1] * R[2] + L[2] * R[1] + L[3] * R[0]) << 16;\n\n        return this;\n      }\n\n    protected _plus(other: BaseInt64) {\n        const sum = (this.buffer[0] + other.buffer[0]) >>> 0;\n        this.buffer[1] += other.buffer[1];\n        if (sum < (this.buffer[0] >>> 0)) {\n          ++this.buffer[1];\n        }\n        this.buffer[0] = sum;\n    }\n\n    public lessThan(other: BaseInt64): boolean {\n        return this.buffer[1] < other.buffer[1] ||\n            (this.buffer[1] === other.buffer[1] && this.buffer[0] < other.buffer[0]);\n    }\n\n    public equals(other: BaseInt64): boolean {\n        return this.buffer[1] === other.buffer[1] && this.buffer[0] == other.buffer[0];\n    }\n\n    public greaterThan(other: BaseInt64): boolean {\n        return other.lessThan(this);\n    }\n\n    public hex(): string {\n        return `${intAsHex(this.buffer[1])} ${intAsHex(this.buffer[0])}`;\n    }\n}\n\n/** @ignore */\nexport class Uint64 extends BaseInt64 {\n    public times(other: Uint64): Uint64 {\n        this._times(other);\n        return this;\n    }\n\n    public plus(other: Uint64): Uint64 {\n        this._plus(other);\n        return this;\n    }\n\n    /** @nocollapse */\n    public static from(val: any, out_buffer = new Uint32Array(2)): Uint64 {\n        return Uint64.fromString(\n            typeof(val) === 'string' ? val : val.toString(),\n            out_buffer\n        );\n    }\n\n    /** @nocollapse */\n    public static fromNumber(num: number, out_buffer = new Uint32Array(2)): Uint64 {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Uint64.fromString(num.toString(), out_buffer);\n    }\n\n    /** @nocollapse */\n    public static fromString(str: string, out_buffer = new Uint32Array(2)): Uint64 {\n        const length = str.length;\n\n        let out = new Uint64(out_buffer);\n        for (let posn = 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                          kInt32DecimalDigits : length - posn;\n            const chunk = new Uint64(new Uint32Array([parseInt(str.substr(posn, group), 10), 0]));\n            const multiple = new Uint64(new Uint32Array([kPowersOfTen[group], 0]));\n\n            out.times(multiple);\n            out.plus(chunk);\n\n            posn += group;\n        }\n\n        return out;\n    }\n\n    /** @nocollapse */\n    public static convertArray(values: (string|number)[]): Uint32Array {\n        const data = new Uint32Array(values.length * 2);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Uint64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n        }\n        return data;\n    }\n\n    /** @nocollapse */\n    public static multiply(left: Uint64, right: Uint64): Uint64 {\n        let rtrn = new Uint64(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n\n    /** @nocollapse */\n    public static add(left: Uint64, right: Uint64): Uint64 {\n        let rtrn = new Uint64(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n}\n\n/** @ignore */\nexport class Int64 extends BaseInt64 {\n    public negate(): Int64 {\n        this.buffer[0] = ~this.buffer[0] + 1;\n        this.buffer[1] = ~this.buffer[1];\n\n        if (this.buffer[0] == 0) { ++this.buffer[1]; }\n        return this;\n    }\n\n    public times(other: Int64): Int64 {\n        this._times(other);\n        return this;\n    }\n\n    public plus(other: Int64): Int64 {\n        this._plus(other);\n        return this;\n    }\n\n    public lessThan(other: Int64): boolean {\n        // force high bytes to be signed\n        const this_high = this.buffer[1] << 0;\n        const other_high = other.buffer[1] << 0;\n        return this_high < other_high ||\n            (this_high === other_high && this.buffer[0] < other.buffer[0]);\n    }\n\n    /** @nocollapse */\n    public static from(val: any, out_buffer = new Uint32Array(2)): Int64 {\n        return Int64.fromString(\n            typeof(val) === 'string' ? val : val.toString(),\n            out_buffer\n        );\n    }\n\n    /** @nocollapse */\n    public static fromNumber(num: number, out_buffer = new Uint32Array(2)): Int64 {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Int64.fromString(num.toString(), out_buffer);\n    }\n\n    /** @nocollapse */\n    public static fromString(str: string, out_buffer = new Uint32Array(2)): Int64 {\n        // TODO: Assert that out_buffer is 0 and length = 2\n        const negate = str.startsWith('-');\n        const length = str.length;\n\n        let out = new Int64(out_buffer);\n        for (let posn = negate ? 1 : 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                          kInt32DecimalDigits : length - posn;\n            const chunk = new Int64(new Uint32Array([parseInt(str.substr(posn, group), 10), 0]));\n            const multiple = new Int64(new Uint32Array([kPowersOfTen[group], 0]));\n\n            out.times(multiple);\n            out.plus(chunk);\n\n            posn += group;\n        }\n        return negate ? out.negate() : out;\n    }\n\n    /** @nocollapse */\n    public static convertArray(values: (string|number)[]): Uint32Array {\n        const data = new Uint32Array(values.length * 2);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Int64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n        }\n        return data;\n    }\n\n    /** @nocollapse */\n    public static multiply(left: Int64, right: Int64): Int64 {\n        let rtrn = new Int64(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n\n    /** @nocollapse */\n    public static add(left: Int64, right: Int64): Int64 {\n        let rtrn = new Int64(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n}\n\n/** @ignore */\nexport class Int128 {\n    constructor (private buffer: Uint32Array) {\n        // buffer[3] MSB (high)\n        // buffer[2]\n        // buffer[1]\n        // buffer[0] LSB (low)\n    }\n\n    public high(): Int64 {\n        return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n    }\n\n    public low(): Int64 {\n        return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset, 2));\n    }\n\n    public negate(): Int128 {\n        this.buffer[0] = ~this.buffer[0] + 1;\n        this.buffer[1] = ~this.buffer[1];\n        this.buffer[2] = ~this.buffer[2];\n        this.buffer[3] = ~this.buffer[3];\n\n        if (this.buffer[0] == 0) { ++this.buffer[1]; }\n        if (this.buffer[1] == 0) { ++this.buffer[2]; }\n        if (this.buffer[2] == 0) { ++this.buffer[3]; }\n        return this;\n    }\n\n    public times(other: Int128): Int128 {\n        // Break the left and right numbers into 32 bit chunks\n        // so that we can multiply them without overflow.\n        const L0 = new Uint64(new Uint32Array([this.buffer[3],  0]));\n        const L1 = new Uint64(new Uint32Array([this.buffer[2],  0]));\n        const L2 = new Uint64(new Uint32Array([this.buffer[1],  0]));\n        const L3 = new Uint64(new Uint32Array([this.buffer[0],  0]));\n\n        const R0 = new Uint64(new Uint32Array([other.buffer[3], 0]));\n        const R1 = new Uint64(new Uint32Array([other.buffer[2], 0]));\n        const R2 = new Uint64(new Uint32Array([other.buffer[1], 0]));\n        const R3 = new Uint64(new Uint32Array([other.buffer[0], 0]));\n\n        let product = Uint64.multiply(L3, R3);\n        this.buffer[0] = product.low();\n\n        let sum = new Uint64(new Uint32Array([product.high(), 0]));\n\n        product = Uint64.multiply(L2, R3);\n        sum.plus(product);\n\n        product = Uint64.multiply(L3, R2);\n        sum.plus(product);\n\n        this.buffer[1] = sum.low();\n\n        this.buffer[3] = (sum.lessThan(product) ? 1 : 0);\n\n        this.buffer[2] = sum.high();\n        let high = new Uint64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n\n        high.plus(Uint64.multiply(L1, R3))\n            .plus(Uint64.multiply(L2, R2))\n            .plus(Uint64.multiply(L3, R1));\n        this.buffer[3] += Uint64.multiply(L0, R3)\n                        .plus(Uint64.multiply(L1, R2))\n                        .plus(Uint64.multiply(L2, R1))\n                        .plus(Uint64.multiply(L3, R0)).low();\n\n        return this;\n    }\n\n    public plus(other: Int128): Int128 {\n        let sums = new Uint32Array(4);\n        sums[3] = (this.buffer[3] + other.buffer[3]) >>> 0;\n        sums[2] = (this.buffer[2] + other.buffer[2]) >>> 0;\n        sums[1] = (this.buffer[1] + other.buffer[1]) >>> 0;\n        sums[0] = (this.buffer[0] + other.buffer[0]) >>> 0;\n\n        if (sums[0] < (this.buffer[0] >>> 0)) {\n            ++sums[1];\n        }\n        if (sums[1] < (this.buffer[1] >>> 0)) {\n            ++sums[2];\n        }\n        if (sums[2] < (this.buffer[2] >>> 0)) {\n            ++sums[3];\n        }\n\n        this.buffer[3] = sums[3];\n        this.buffer[2] = sums[2];\n        this.buffer[1] = sums[1];\n        this.buffer[0] = sums[0];\n\n        return this;\n    }\n\n    public hex(): string {\n        return `${intAsHex(this.buffer[3])} ${intAsHex(this.buffer[2])} ${intAsHex(this.buffer[1])} ${intAsHex(this.buffer[0])}`;\n    }\n\n    /** @nocollapse */\n    public static multiply(left: Int128, right: Int128): Int128 {\n        let rtrn = new Int128(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n\n    /** @nocollapse */\n    public static add(left: Int128, right: Int128): Int128 {\n        let rtrn = new Int128(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n\n    /** @nocollapse */\n    public static from(val: any, out_buffer = new Uint32Array(4)): Int128 {\n        return Int128.fromString(\n            typeof(val) === 'string' ? val : val.toString(),\n            out_buffer\n        );\n    }\n\n    /** @nocollapse */\n    public static fromNumber(num: number, out_buffer = new Uint32Array(4)): Int128 {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Int128.fromString(num.toString(), out_buffer);\n    }\n\n    /** @nocollapse */\n    public static fromString(str: string, out_buffer = new Uint32Array(4)): Int128 {\n        // TODO: Assert that out_buffer is 0 and length = 4\n        const negate = str.startsWith('-');\n        const length = str.length;\n\n        let out = new Int128(out_buffer);\n        for (let posn = negate ? 1 : 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                          kInt32DecimalDigits : length - posn;\n            const chunk = new Int128(new Uint32Array([parseInt(str.substr(posn, group), 10), 0, 0, 0]));\n            const multiple = new Int128(new Uint32Array([kPowersOfTen[group], 0, 0, 0]));\n\n            out.times(multiple);\n            out.plus(chunk);\n\n            posn += group;\n        }\n\n        return negate ? out.negate() : out;\n    }\n\n    /** @nocollapse */\n    public static convertArray(values: (string|number)[]): Uint32Array {\n        // TODO: Distinguish between string and number at compile-time\n        const data = new Uint32Array(values.length * 4);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Int128.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 4 * 4 * i, 4));\n        }\n        return data;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}