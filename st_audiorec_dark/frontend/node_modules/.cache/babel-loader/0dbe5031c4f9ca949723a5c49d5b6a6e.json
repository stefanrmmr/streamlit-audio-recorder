{"ast":null,"code":"import _toConsumableArray from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefan_rmmr/software_dev/streamlit_audio_recorder/st_audiorec/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\n// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Data } from './data';\nimport { Vector } from './vector';\nimport { Type, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from './enum';\nimport { DataType } from './type';\nexport var Visitor = /*#__PURE__*/function () {\n  function Visitor() {\n    _classCallCheck(this, Visitor);\n  }\n\n  _createClass(Visitor, [{\n    key: \"visitMany\",\n    value: function visitMany(nodes) {\n      var _this = this;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return nodes.map(function (node, i) {\n        return _this.visit.apply(_this, [node].concat(_toConsumableArray(args.map(function (x) {\n          return x[i];\n        }))));\n      });\n    }\n  }, {\n    key: \"visit\",\n    value: function visit() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.getVisitFn(args[0], false).apply(this, args);\n    }\n  }, {\n    key: \"getVisitFn\",\n    value: function getVisitFn(node) {\n      var throwIfNotFound = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      return _getVisitFn(this, node, throwIfNotFound);\n    }\n  }, {\n    key: \"visitNull\",\n    value: function visitNull(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitBool\",\n    value: function visitBool(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitInt\",\n    value: function visitInt(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitFloat\",\n    value: function visitFloat(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitUtf8\",\n    value: function visitUtf8(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitBinary\",\n    value: function visitBinary(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitFixedSizeBinary\",\n    value: function visitFixedSizeBinary(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitDate\",\n    value: function visitDate(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitTimestamp\",\n    value: function visitTimestamp(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitTime\",\n    value: function visitTime(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitDecimal\",\n    value: function visitDecimal(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitList\",\n    value: function visitList(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitStruct\",\n    value: function visitStruct(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitUnion\",\n    value: function visitUnion(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitDictionary\",\n    value: function visitDictionary(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitInterval\",\n    value: function visitInterval(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitFixedSizeList\",\n    value: function visitFixedSizeList(_node) {\n      return null;\n    }\n  }, {\n    key: \"visitMap\",\n    value: function visitMap(_node) {\n      return null;\n    }\n  }]);\n\n  return Visitor;\n}();\n/** @ignore */\n\nfunction _getVisitFn(visitor, node) {\n  var throwIfNotFound = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var fn = null;\n  var dtype = Type.NONE; // tslint:disable\n\n  if (node instanceof Data) {\n    dtype = inferDType(node.type);\n  } else if (node instanceof Vector) {\n    dtype = inferDType(node.type);\n  } else if (node instanceof DataType) {\n    dtype = inferDType(node);\n  } else if (typeof (dtype = node) !== 'number') {\n    dtype = Type[node];\n  }\n\n  switch (dtype) {\n    case Type.Null:\n      fn = visitor.visitNull;\n      break;\n\n    case Type.Bool:\n      fn = visitor.visitBool;\n      break;\n\n    case Type.Int:\n      fn = visitor.visitInt;\n      break;\n\n    case Type.Int8:\n      fn = visitor.visitInt8 || visitor.visitInt;\n      break;\n\n    case Type.Int16:\n      fn = visitor.visitInt16 || visitor.visitInt;\n      break;\n\n    case Type.Int32:\n      fn = visitor.visitInt32 || visitor.visitInt;\n      break;\n\n    case Type.Int64:\n      fn = visitor.visitInt64 || visitor.visitInt;\n      break;\n\n    case Type.Uint8:\n      fn = visitor.visitUint8 || visitor.visitInt;\n      break;\n\n    case Type.Uint16:\n      fn = visitor.visitUint16 || visitor.visitInt;\n      break;\n\n    case Type.Uint32:\n      fn = visitor.visitUint32 || visitor.visitInt;\n      break;\n\n    case Type.Uint64:\n      fn = visitor.visitUint64 || visitor.visitInt;\n      break;\n\n    case Type.Float:\n      fn = visitor.visitFloat;\n      break;\n\n    case Type.Float16:\n      fn = visitor.visitFloat16 || visitor.visitFloat;\n      break;\n\n    case Type.Float32:\n      fn = visitor.visitFloat32 || visitor.visitFloat;\n      break;\n\n    case Type.Float64:\n      fn = visitor.visitFloat64 || visitor.visitFloat;\n      break;\n\n    case Type.Utf8:\n      fn = visitor.visitUtf8;\n      break;\n\n    case Type.Binary:\n      fn = visitor.visitBinary;\n      break;\n\n    case Type.FixedSizeBinary:\n      fn = visitor.visitFixedSizeBinary;\n      break;\n\n    case Type.Date:\n      fn = visitor.visitDate;\n      break;\n\n    case Type.DateDay:\n      fn = visitor.visitDateDay || visitor.visitDate;\n      break;\n\n    case Type.DateMillisecond:\n      fn = visitor.visitDateMillisecond || visitor.visitDate;\n      break;\n\n    case Type.Timestamp:\n      fn = visitor.visitTimestamp;\n      break;\n\n    case Type.TimestampSecond:\n      fn = visitor.visitTimestampSecond || visitor.visitTimestamp;\n      break;\n\n    case Type.TimestampMillisecond:\n      fn = visitor.visitTimestampMillisecond || visitor.visitTimestamp;\n      break;\n\n    case Type.TimestampMicrosecond:\n      fn = visitor.visitTimestampMicrosecond || visitor.visitTimestamp;\n      break;\n\n    case Type.TimestampNanosecond:\n      fn = visitor.visitTimestampNanosecond || visitor.visitTimestamp;\n      break;\n\n    case Type.Time:\n      fn = visitor.visitTime;\n      break;\n\n    case Type.TimeSecond:\n      fn = visitor.visitTimeSecond || visitor.visitTime;\n      break;\n\n    case Type.TimeMillisecond:\n      fn = visitor.visitTimeMillisecond || visitor.visitTime;\n      break;\n\n    case Type.TimeMicrosecond:\n      fn = visitor.visitTimeMicrosecond || visitor.visitTime;\n      break;\n\n    case Type.TimeNanosecond:\n      fn = visitor.visitTimeNanosecond || visitor.visitTime;\n      break;\n\n    case Type.Decimal:\n      fn = visitor.visitDecimal;\n      break;\n\n    case Type.List:\n      fn = visitor.visitList;\n      break;\n\n    case Type.Struct:\n      fn = visitor.visitStruct;\n      break;\n\n    case Type.Union:\n      fn = visitor.visitUnion;\n      break;\n\n    case Type.DenseUnion:\n      fn = visitor.visitDenseUnion || visitor.visitUnion;\n      break;\n\n    case Type.SparseUnion:\n      fn = visitor.visitSparseUnion || visitor.visitUnion;\n      break;\n\n    case Type.Dictionary:\n      fn = visitor.visitDictionary;\n      break;\n\n    case Type.Interval:\n      fn = visitor.visitInterval;\n      break;\n\n    case Type.IntervalDayTime:\n      fn = visitor.visitIntervalDayTime || visitor.visitInterval;\n      break;\n\n    case Type.IntervalYearMonth:\n      fn = visitor.visitIntervalYearMonth || visitor.visitInterval;\n      break;\n\n    case Type.FixedSizeList:\n      fn = visitor.visitFixedSizeList;\n      break;\n\n    case Type.Map:\n      fn = visitor.visitMap;\n      break;\n  }\n\n  if (typeof fn === 'function') return fn;\n  if (!throwIfNotFound) return function () {\n    return null;\n  };\n  throw new Error(\"Unrecognized type '\".concat(Type[dtype], \"'\"));\n}\n/** @ignore */\n\n\nfunction inferDType(type) {\n  switch (type.typeId) {\n    case Type.Null:\n      return Type.Null;\n\n    case Type.Int:\n      var bitWidth = type.bitWidth,\n          isSigned = type.isSigned;\n\n      switch (bitWidth) {\n        case 8:\n          return isSigned ? Type.Int8 : Type.Uint8;\n\n        case 16:\n          return isSigned ? Type.Int16 : Type.Uint16;\n\n        case 32:\n          return isSigned ? Type.Int32 : Type.Uint32;\n\n        case 64:\n          return isSigned ? Type.Int64 : Type.Uint64;\n      }\n\n      return Type.Int;\n\n    case Type.Float:\n      switch (type.precision) {\n        case Precision.HALF:\n          return Type.Float16;\n\n        case Precision.SINGLE:\n          return Type.Float32;\n\n        case Precision.DOUBLE:\n          return Type.Float64;\n      }\n\n      return Type.Float;\n\n    case Type.Binary:\n      return Type.Binary;\n\n    case Type.Utf8:\n      return Type.Utf8;\n\n    case Type.Bool:\n      return Type.Bool;\n\n    case Type.Decimal:\n      return Type.Decimal;\n\n    case Type.Time:\n      switch (type.unit) {\n        case TimeUnit.SECOND:\n          return Type.TimeSecond;\n\n        case TimeUnit.MILLISECOND:\n          return Type.TimeMillisecond;\n\n        case TimeUnit.MICROSECOND:\n          return Type.TimeMicrosecond;\n\n        case TimeUnit.NANOSECOND:\n          return Type.TimeNanosecond;\n      }\n\n      return Type.Time;\n\n    case Type.Timestamp:\n      switch (type.unit) {\n        case TimeUnit.SECOND:\n          return Type.TimestampSecond;\n\n        case TimeUnit.MILLISECOND:\n          return Type.TimestampMillisecond;\n\n        case TimeUnit.MICROSECOND:\n          return Type.TimestampMicrosecond;\n\n        case TimeUnit.NANOSECOND:\n          return Type.TimestampNanosecond;\n      }\n\n      return Type.Timestamp;\n\n    case Type.Date:\n      switch (type.unit) {\n        case DateUnit.DAY:\n          return Type.DateDay;\n\n        case DateUnit.MILLISECOND:\n          return Type.DateMillisecond;\n      }\n\n      return Type.Date;\n\n    case Type.Interval:\n      switch (type.unit) {\n        case IntervalUnit.DAY_TIME:\n          return Type.IntervalDayTime;\n\n        case IntervalUnit.YEAR_MONTH:\n          return Type.IntervalYearMonth;\n      }\n\n      return Type.Interval;\n\n    case Type.Map:\n      return Type.Map;\n\n    case Type.List:\n      return Type.List;\n\n    case Type.Struct:\n      return Type.Struct;\n\n    case Type.Union:\n      switch (type.mode) {\n        case UnionMode.Dense:\n          return Type.DenseUnion;\n\n        case UnionMode.Sparse:\n          return Type.SparseUnion;\n      }\n\n      return Type.Union;\n\n    case Type.FixedSizeBinary:\n      return Type.FixedSizeBinary;\n\n    case Type.FixedSizeList:\n      return Type.FixedSizeList;\n\n    case Type.Dictionary:\n      return Type.Dictionary;\n  }\n\n  throw new Error(\"Unrecognized type '\".concat(Type[type.typeId], \"'\"));\n} // Add these here so they're picked up by the externs creator\n// in the build, and closure-compiler doesn't minify them away\n\n\nVisitor.prototype.visitInt8 = null;\nVisitor.prototype.visitInt16 = null;\nVisitor.prototype.visitInt32 = null;\nVisitor.prototype.visitInt64 = null;\nVisitor.prototype.visitUint8 = null;\nVisitor.prototype.visitUint16 = null;\nVisitor.prototype.visitUint32 = null;\nVisitor.prototype.visitUint64 = null;\nVisitor.prototype.visitFloat16 = null;\nVisitor.prototype.visitFloat32 = null;\nVisitor.prototype.visitFloat64 = null;\nVisitor.prototype.visitDateDay = null;\nVisitor.prototype.visitDateMillisecond = null;\nVisitor.prototype.visitTimestampSecond = null;\nVisitor.prototype.visitTimestampMillisecond = null;\nVisitor.prototype.visitTimestampMicrosecond = null;\nVisitor.prototype.visitTimestampNanosecond = null;\nVisitor.prototype.visitTimeSecond = null;\nVisitor.prototype.visitTimeMillisecond = null;\nVisitor.prototype.visitTimeMicrosecond = null;\nVisitor.prototype.visitTimeNanosecond = null;\nVisitor.prototype.visitDenseUnion = null;\nVisitor.prototype.visitSparseUnion = null;\nVisitor.prototype.visitIntervalDayTime = null;\nVisitor.prototype.visitIntervalYearMonth = null;","map":{"version":3,"mappings":"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","names":["Data","Vector","Type","Precision","DateUnit","TimeUnit","IntervalUnit","UnionMode","DataType","Visitor","nodes","args","map","node","i","visit","x","getVisitFn","apply","throwIfNotFound","_node","visitor","fn","dtype","NONE","inferDType","type","Null","visitNull","Bool","visitBool","Int","visitInt","Int8","visitInt8","Int16","visitInt16","Int32","visitInt32","Int64","visitInt64","Uint8","visitUint8","Uint16","visitUint16","Uint32","visitUint32","Uint64","visitUint64","Float","visitFloat","Float16","visitFloat16","Float32","visitFloat32","Float64","visitFloat64","Utf8","visitUtf8","Binary","visitBinary","FixedSizeBinary","visitFixedSizeBinary","Date","visitDate","DateDay","visitDateDay","DateMillisecond","visitDateMillisecond","Timestamp","visitTimestamp","TimestampSecond","visitTimestampSecond","TimestampMillisecond","visitTimestampMillisecond","TimestampMicrosecond","visitTimestampMicrosecond","TimestampNanosecond","visitTimestampNanosecond","Time","visitTime","TimeSecond","visitTimeSecond","TimeMillisecond","visitTimeMillisecond","TimeMicrosecond","visitTimeMicrosecond","TimeNanosecond","visitTimeNanosecond","Decimal","visitDecimal","List","visitList","Struct","visitStruct","Union","visitUnion","DenseUnion","visitDenseUnion","SparseUnion","visitSparseUnion","Dictionary","visitDictionary","Interval","visitInterval","IntervalDayTime","visitIntervalDayTime","IntervalYearMonth","visitIntervalYearMonth","FixedSizeList","visitFixedSizeList","Map","visitMap","Error","typeId","bitWidth","isSigned","precision","HALF","SINGLE","DOUBLE","unit","SECOND","MILLISECOND","MICROSECOND","NANOSECOND","DAY","DAY_TIME","YEAR_MONTH","mode","Dense","Sparse","prototype"],"sources":["visitor.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport { Data } from './data';\nimport { Vector } from './vector';\nimport { Type, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from './enum';\nimport { DataType, Float, Int, Date_, Interval, Time, Timestamp, Union, } from './type';\n\nexport abstract class Visitor {\n    public visitMany(nodes: any[], ...args: any[][]) {\n        return nodes.map((node, i) => this.visit(node, ...args.map((x) => x[i])));\n    }\n    public visit(...args: any[]) {\n        return this.getVisitFn(args[0], false).apply(this, args);\n    }\n    public getVisitFn(node: any, throwIfNotFound = true) {\n        return getVisitFn(this, node, throwIfNotFound);\n    }\n    public visitNull            (_node: any, ..._args: any[]): any { return null; }\n    public visitBool            (_node: any, ..._args: any[]): any { return null; }\n    public visitInt             (_node: any, ..._args: any[]): any { return null; }\n    public visitFloat           (_node: any, ..._args: any[]): any { return null; }\n    public visitUtf8            (_node: any, ..._args: any[]): any { return null; }\n    public visitBinary          (_node: any, ..._args: any[]): any { return null; }\n    public visitFixedSizeBinary (_node: any, ..._args: any[]): any { return null; }\n    public visitDate            (_node: any, ..._args: any[]): any { return null; }\n    public visitTimestamp       (_node: any, ..._args: any[]): any { return null; }\n    public visitTime            (_node: any, ..._args: any[]): any { return null; }\n    public visitDecimal         (_node: any, ..._args: any[]): any { return null; }\n    public visitList            (_node: any, ..._args: any[]): any { return null; }\n    public visitStruct          (_node: any, ..._args: any[]): any { return null; }\n    public visitUnion           (_node: any, ..._args: any[]): any { return null; }\n    public visitDictionary      (_node: any, ..._args: any[]): any { return null; }\n    public visitInterval        (_node: any, ..._args: any[]): any { return null; }\n    public visitFixedSizeList   (_node: any, ..._args: any[]): any { return null; }\n    public visitMap             (_node: any, ..._args: any[]): any { return null; }\n}\n\n/** @ignore */\nfunction getVisitFn<T extends DataType>(visitor: Visitor, node: any, throwIfNotFound = true) {\n    let fn: any = null;\n    let dtype: T['TType'] = Type.NONE;\n    // tslint:disable\n    if      (node instanceof Data    ) { dtype = inferDType(node.type as T); }\n    else if (node instanceof Vector  ) { dtype = inferDType(node.type as T); }\n    else if (node instanceof DataType) { dtype = inferDType(node      as T); }\n    else if (typeof (dtype = node) !== 'number') { dtype = Type[node] as any as T['TType']; }\n\n    switch (dtype) {\n        case Type.Null:                 fn = visitor.visitNull; break;\n        case Type.Bool:                 fn = visitor.visitBool; break;\n        case Type.Int:                  fn = visitor.visitInt; break;\n        case Type.Int8:                 fn = visitor.visitInt8 || visitor.visitInt; break;\n        case Type.Int16:                fn = visitor.visitInt16 || visitor.visitInt; break;\n        case Type.Int32:                fn = visitor.visitInt32 || visitor.visitInt; break;\n        case Type.Int64:                fn = visitor.visitInt64 || visitor.visitInt; break;\n        case Type.Uint8:                fn = visitor.visitUint8 || visitor.visitInt; break;\n        case Type.Uint16:               fn = visitor.visitUint16 || visitor.visitInt; break;\n        case Type.Uint32:               fn = visitor.visitUint32 || visitor.visitInt; break;\n        case Type.Uint64:               fn = visitor.visitUint64 || visitor.visitInt; break;\n        case Type.Float:                fn = visitor.visitFloat; break;\n        case Type.Float16:              fn = visitor.visitFloat16 || visitor.visitFloat; break;\n        case Type.Float32:              fn = visitor.visitFloat32 || visitor.visitFloat; break;\n        case Type.Float64:              fn = visitor.visitFloat64 || visitor.visitFloat; break;\n        case Type.Utf8:                 fn = visitor.visitUtf8; break;\n        case Type.Binary:               fn = visitor.visitBinary; break;\n        case Type.FixedSizeBinary:      fn = visitor.visitFixedSizeBinary; break;\n        case Type.Date:                 fn = visitor.visitDate; break;\n        case Type.DateDay:              fn = visitor.visitDateDay || visitor.visitDate; break;\n        case Type.DateMillisecond:      fn = visitor.visitDateMillisecond || visitor.visitDate; break;\n        case Type.Timestamp:            fn = visitor.visitTimestamp; break;\n        case Type.TimestampSecond:      fn = visitor.visitTimestampSecond || visitor.visitTimestamp; break;\n        case Type.TimestampMillisecond: fn = visitor.visitTimestampMillisecond || visitor.visitTimestamp; break;\n        case Type.TimestampMicrosecond: fn = visitor.visitTimestampMicrosecond || visitor.visitTimestamp; break;\n        case Type.TimestampNanosecond:  fn = visitor.visitTimestampNanosecond || visitor.visitTimestamp; break;\n        case Type.Time:                 fn = visitor.visitTime; break;\n        case Type.TimeSecond:           fn = visitor.visitTimeSecond || visitor.visitTime; break;\n        case Type.TimeMillisecond:      fn = visitor.visitTimeMillisecond || visitor.visitTime; break;\n        case Type.TimeMicrosecond:      fn = visitor.visitTimeMicrosecond || visitor.visitTime; break;\n        case Type.TimeNanosecond:       fn = visitor.visitTimeNanosecond || visitor.visitTime; break;\n        case Type.Decimal:              fn = visitor.visitDecimal; break;\n        case Type.List:                 fn = visitor.visitList; break;\n        case Type.Struct:               fn = visitor.visitStruct; break;\n        case Type.Union:                fn = visitor.visitUnion; break;\n        case Type.DenseUnion:           fn = visitor.visitDenseUnion || visitor.visitUnion; break;\n        case Type.SparseUnion:          fn = visitor.visitSparseUnion || visitor.visitUnion; break;\n        case Type.Dictionary:           fn = visitor.visitDictionary; break;\n        case Type.Interval:             fn = visitor.visitInterval; break;\n        case Type.IntervalDayTime:      fn = visitor.visitIntervalDayTime || visitor.visitInterval; break;\n        case Type.IntervalYearMonth:    fn = visitor.visitIntervalYearMonth || visitor.visitInterval; break;\n        case Type.FixedSizeList:        fn = visitor.visitFixedSizeList; break;\n        case Type.Map:                  fn = visitor.visitMap; break;\n    }\n    if (typeof fn === 'function') return fn;\n    if (!throwIfNotFound) return () => null;\n    throw new Error(`Unrecognized type '${Type[dtype]}'`);\n}\n\n/** @ignore */\nfunction inferDType<T extends DataType>(type: T): Type {\n    switch (type.typeId) {\n        case Type.Null: return Type.Null;\n        case Type.Int:\n            const { bitWidth, isSigned } = (type as any as Int);\n            switch (bitWidth) {\n                case  8: return isSigned ? Type.Int8  : Type.Uint8 ;\n                case 16: return isSigned ? Type.Int16 : Type.Uint16;\n                case 32: return isSigned ? Type.Int32 : Type.Uint32;\n                case 64: return isSigned ? Type.Int64 : Type.Uint64;\n            }\n            return Type.Int;\n        case Type.Float:\n            switch((type as any as Float).precision) {\n                case Precision.HALF: return Type.Float16;\n                case Precision.SINGLE: return Type.Float32;\n                case Precision.DOUBLE: return Type.Float64;\n            }\n            return Type.Float;\n        case Type.Binary: return Type.Binary;\n        case Type.Utf8: return Type.Utf8;\n        case Type.Bool: return Type.Bool;\n        case Type.Decimal: return Type.Decimal;\n        case Type.Time:\n            switch ((type as any as Time).unit) {\n                case TimeUnit.SECOND: return Type.TimeSecond;\n                case TimeUnit.MILLISECOND: return Type.TimeMillisecond;\n                case TimeUnit.MICROSECOND: return Type.TimeMicrosecond;\n                case TimeUnit.NANOSECOND: return Type.TimeNanosecond;\n            }\n            return Type.Time;\n        case Type.Timestamp:\n            switch ((type as any as Timestamp).unit) {\n                case TimeUnit.SECOND: return Type.TimestampSecond;\n                case TimeUnit.MILLISECOND: return Type.TimestampMillisecond;\n                case TimeUnit.MICROSECOND: return Type.TimestampMicrosecond;\n                case TimeUnit.NANOSECOND: return Type.TimestampNanosecond;\n            }\n            return Type.Timestamp;\n        case Type.Date:\n            switch ((type as any as Date_).unit) {\n                case DateUnit.DAY: return Type.DateDay;\n                case DateUnit.MILLISECOND: return Type.DateMillisecond;\n            }\n            return Type.Date;\n        case Type.Interval:\n            switch ((type as any as Interval).unit) {\n                case IntervalUnit.DAY_TIME: return Type.IntervalDayTime;\n                case IntervalUnit.YEAR_MONTH: return Type.IntervalYearMonth;\n            }\n            return Type.Interval;\n        case Type.Map: return Type.Map;\n        case Type.List: return Type.List;\n        case Type.Struct: return Type.Struct;\n        case Type.Union:\n            switch ((type as any as Union).mode) {\n                case UnionMode.Dense: return Type.DenseUnion;\n                case UnionMode.Sparse: return Type.SparseUnion;\n            }\n            return Type.Union;\n        case Type.FixedSizeBinary: return Type.FixedSizeBinary;\n        case Type.FixedSizeList: return Type.FixedSizeList;\n        case Type.Dictionary: return Type.Dictionary;\n    }\n    throw new Error(`Unrecognized type '${Type[type.typeId]}'`);\n}\n\nexport interface Visitor {\n    visitNull                  (node: any, ...args: any[]): any;\n    visitBool                  (node: any, ...args: any[]): any;\n    visitInt                   (node: any, ...args: any[]): any;\n    visitInt8?                 (node: any, ...args: any[]): any;\n    visitInt16?                (node: any, ...args: any[]): any;\n    visitInt32?                (node: any, ...args: any[]): any;\n    visitInt64?                (node: any, ...args: any[]): any;\n    visitUint8?                (node: any, ...args: any[]): any;\n    visitUint16?               (node: any, ...args: any[]): any;\n    visitUint32?               (node: any, ...args: any[]): any;\n    visitUint64?               (node: any, ...args: any[]): any;\n    visitFloat                 (node: any, ...args: any[]): any;\n    visitFloat16?              (node: any, ...args: any[]): any;\n    visitFloat32?              (node: any, ...args: any[]): any;\n    visitFloat64?              (node: any, ...args: any[]): any;\n    visitUtf8                  (node: any, ...args: any[]): any;\n    visitBinary                (node: any, ...args: any[]): any;\n    visitFixedSizeBinary       (node: any, ...args: any[]): any;\n    visitDate                  (node: any, ...args: any[]): any;\n    visitDateDay?              (node: any, ...args: any[]): any;\n    visitDateMillisecond?      (node: any, ...args: any[]): any;\n    visitTimestamp             (node: any, ...args: any[]): any;\n    visitTimestampSecond?      (node: any, ...args: any[]): any;\n    visitTimestampMillisecond? (node: any, ...args: any[]): any;\n    visitTimestampMicrosecond? (node: any, ...args: any[]): any;\n    visitTimestampNanosecond?  (node: any, ...args: any[]): any;\n    visitTime                  (node: any, ...args: any[]): any;\n    visitTimeSecond?           (node: any, ...args: any[]): any;\n    visitTimeMillisecond?      (node: any, ...args: any[]): any;\n    visitTimeMicrosecond?      (node: any, ...args: any[]): any;\n    visitTimeNanosecond?       (node: any, ...args: any[]): any;\n    visitDecimal               (node: any, ...args: any[]): any;\n    visitList                  (node: any, ...args: any[]): any;\n    visitStruct                (node: any, ...args: any[]): any;\n    visitUnion                 (node: any, ...args: any[]): any;\n    visitDenseUnion?           (node: any, ...args: any[]): any;\n    visitSparseUnion?          (node: any, ...args: any[]): any;\n    visitDictionary            (node: any, ...args: any[]): any;\n    visitInterval              (node: any, ...args: any[]): any;\n    visitIntervalDayTime?      (node: any, ...args: any[]): any;\n    visitIntervalYearMonth?    (node: any, ...args: any[]): any;\n    visitFixedSizeList         (node: any, ...args: any[]): any;\n    visitMap                   (node: any, ...args: any[]): any;\n}\n\n// Add these here so they're picked up by the externs creator\n// in the build, and closure-compiler doesn't minify them away\n(Visitor.prototype as any).visitInt8 = null;\n(Visitor.prototype as any).visitInt16 = null;\n(Visitor.prototype as any).visitInt32 = null;\n(Visitor.prototype as any).visitInt64 = null;\n(Visitor.prototype as any).visitUint8 = null;\n(Visitor.prototype as any).visitUint16 = null;\n(Visitor.prototype as any).visitUint32 = null;\n(Visitor.prototype as any).visitUint64 = null;\n(Visitor.prototype as any).visitFloat16 = null;\n(Visitor.prototype as any).visitFloat32 = null;\n(Visitor.prototype as any).visitFloat64 = null;\n(Visitor.prototype as any).visitDateDay = null;\n(Visitor.prototype as any).visitDateMillisecond = null;\n(Visitor.prototype as any).visitTimestampSecond = null;\n(Visitor.prototype as any).visitTimestampMillisecond = null;\n(Visitor.prototype as any).visitTimestampMicrosecond = null;\n(Visitor.prototype as any).visitTimestampNanosecond = null;\n(Visitor.prototype as any).visitTimeSecond = null;\n(Visitor.prototype as any).visitTimeMillisecond = null;\n(Visitor.prototype as any).visitTimeMicrosecond = null;\n(Visitor.prototype as any).visitTimeNanosecond = null;\n(Visitor.prototype as any).visitDenseUnion = null;\n(Visitor.prototype as any).visitSparseUnion = null;\n(Visitor.prototype as any).visitIntervalDayTime = null;\n(Visitor.prototype as any).visitIntervalYearMonth = null;\n"]},"metadata":{},"sourceType":"module"}